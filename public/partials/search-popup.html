<md-dialog class="db-view-search-popup" flex="80" flex-sm="90">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>Search</h2>
			<span flex></span>
			<md-button class="md-icon-button" ng-click="search.close_dialog()" aria-label="Close">
				<md-icon class="fa-close"></md-icon>
			</md-button>
		</div>
	</md-toolbar>
	<md-dialog-content layout="row" layout-sm="column">
			<md-content flex layout-fill layout-padding>
				<div layout="row" layout-sm="column" layout-align="space-around" ng-if="search.progress" class="db-view-search-popup__progress">
					<md-progress-circular md-mode="indeterminate"></md-progress-circular>
				</div>

				<div layout="row" layout-sm="column" layout-align="space-around" ng-if="!search.progress && search.error" class="db-view-search-popup__error">{{ search.error }}</div>
				
				<md-content ng-if="!search.progress && !search.error">
					<md-input-container flex="100">
						<label>RT query:</label>
						<input ng-model="search.query" flex="100">
					</md-input-container>
					
					<md-list flex="100" >
						<md-list-item ng-repeat="column in search.columns" layout-padded layout="column">
						</md-list-item>
					</md-list>
				</md-content>

				<div layout="row" layout-align="end center" ng-if="!search.progress && !search.error">
					<md-button class="md-raised md-primary" ng-click="search.save_search()">Save</md-button>
				</div>
			</md-content>
	</md-dialog-content>
</md-dialog>
